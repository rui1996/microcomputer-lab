DATA	SEGMENT
DATA 	ENDS

CODE 	SEGMENT
	ASSUME CS:CODE, DS:DATA
START: 	MOV AX, DATA
		MOV DS, AX		; INITIALIZE DATA SEGMENT
		MOV DX, 0E48BH
		MOV AL, 10010000B  ; A IN C OUT
		OUT DX, AL		; SET 8255A MODE 
INOUT:	MOV DX, 0E488H
		IN AL, DX		; PORT A INPUT
		XOR AH, AH		; CLEAR AH
		MOV CX, 8
SHIFT:	SHL AL, 1       ; COUNT NUMBER OF 1
		JNC SKIP
		INC AH          ; STORE IN AH
SKIP:	LOOP SHIFT
		MOV AL, AH
		MOV DX, 0E48AH
		OUT DX, AL		; OUTPUT NUMBER IN AL TO LEDS
		MOV AH, 1       
		INT 16H
		JZ INOUT
		MOV AH, 4CH
		INT 21H
CODE ENDS
END START